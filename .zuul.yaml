---
- job:
    name: flavor-manager-integration-test
    pre-run: playbooks/pre-integration-test.yml
    run: playbooks/integration-test.yml
    roles:
      - zuul: osism/zuul-jobs
        name: devstack

- project:
    merge-mode: "squash-merge"
    default-branch: main
    check:
      jobs:
        - flake8
        - mypy
        - tox-py39:
            vars:
              tox_envlist: test
        - flavor-manager-integration-test
    gate:
      jobs:
        - flake8
        - mypy
        - tox-py39:
            vars:
              tox_envlist: test
        - flavor-manager-integration-test
    periodic-daily:
      jobs:
        - flake8
        - mypy
        - tox-py39:
            vars:
              tox_envlist: test
        - flavor-manager-integration-test
